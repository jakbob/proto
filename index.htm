<!DOCTYPE html>
<html>
<head>
	<title>Prototyp</title>	
	<link rel="stylesheet" type="text/css" href="css/main.css" />
	<link rel="stylesheet" type="text/css" href="bower_components/pure/pure-min.css" />
	<link rel="stylesheet" type="text/css" href="bower_components/font-awesome/css/font-awesome.min.css" />
	<script type="text/javascript" data-main="js/main" src="js/libs/requirejs/require.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>


	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width" />

	<script type="text/javascript">

	function cycleActive(selector, activeElement) {
		var elements = document.querySelectorAll(selector);
		elements[activeElement].className = elements[activeElement].className.replace(/active/g, '');
		activeElement = (activeElement + 1) % elements.length;
		elements[activeElement].className += " active";

		return activeElement;
	}

	$(document).ready(function(){
		var activePage = 0;
		var activeIndicator = 0;

		var lastEvent = 0;

		var handleMediaChange = function (mediaQueryList) {
		    if (mediaQueryList.matches) {
		        $("html").off('click', switchPage);
		    }
		    else {
		        //$("html").on('click', switchPage);
		        $(".link").on('click', switchPage);

		    }
		}

		var mql = window.matchMedia("(min-width: 220px)"); //kodduplicering
		mql.addListener(handleMediaChange);
		handleMediaChange(mql);

		function switchPage(e) {
			e.preventDefault();

			if (e.timeStamp - lastEvent < 100) {
				//dubbeltryck
				return false;
			}
			lastEvent = e.timeStamp;

			activePage = cycleActive(".page", activePage);
			activeIndicator = cycleActive(".page-indicator li", activeIndicator);

			return false;
		}
	});

	</script>
</head>
<body>
	<nav class="page-indicator">
		<ul>
			<li class="active">&nbsp;</li>
			<li>&nbsp;</li>
			<li>&nbsp;</li>
			<li>&nbsp;</li>
		</ul>
	</nav>

	<article id="page1" class="page active">
		<a class="link" href="javascript: void(0)">En längre länk, yao</a>
		<p>En sida om bilar.</p>
		<p class="big-icon"><i class="fa fa-bullseye"></i></p>
		<p>Tryck för att fortsätta</p>
	</article>

	<article id="page2" class="page">
			<a class="link" href="javascript: void(0)">En längre länk, yao</a>

		Hej här är sidan 2;
	</article>

	<article id="page3" class="page">
			<a class="link" href="javascript: void(0)">En längre länk, yao</a>

		Lorem ipsum lol
	</article>

	<article id="page4" class="page">
			<a class="link" href="javascript: void(0)">En längre länk, yao</a>

		Lol, lorem ipsum, woot.
	</article>
</body>
</html>